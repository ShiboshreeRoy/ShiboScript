# Test Enhanced Error Handling
print("=== Testing Enhanced Error Handling ===")

# Test custom exceptions
try {
    raise ValidationError("Invalid email format", "email")
} catch (error) {
    print("Caught ValidationError: " + error.message)
    print("Error type: " + error.error_type)
}

# Test validation functions
func validate_user_data(user) {
    try_catch(
        func() {
            validate_type(user.name, str, "name")
            validate_type(user.age, int, "age")
            validate_range(user.age, 0, 150, "age")
            assert(user.email != null, "Email is required")
            return true
        },
        func(error) {
            print("Validation failed: " + error.message)
            return false
        }
    )
}

var valid_user = {
    "name": "John Doe",
    "age": 30,
    "email": "john@example.com"
}

var invalid_user = {
    "name": "Jane Doe",
    "age": -5,
    "email": null
}

print("Validating valid user...")
var result1 = validate_user_data(valid_user)
print("Validation result: " + result1)

print("Validating invalid user...")
var result2 = validate_user_data(invalid_user)
print("Validation result: " + result2)

# Test network error
try {
    raise NetworkError("Connection timeout", "https://api.example.com")
} catch (error) {
    print("Network error: " + error.message)
    print("URL: " + error.url)
}

print("âœ… Enhanced error handling working!")