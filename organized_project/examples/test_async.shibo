# Test Async/Await Features
print("=== Testing Async/Await Features ===")

# Test async function creation
func async_task(name, delay) {
    print("Starting " + name + "...")
    await(sleep_async(delay))
    print(name + " completed!")
    return name + " result"
}

# Create async tasks
var task1 = create_task(async_task("Task 1", 1))
var task2 = create_task(async_task("Task 2", 2))
var task3 = create_task(async_task("Task 3", 0.5))

print("Tasks created, running async...")

# Run all async tasks
run_async()

print("All async tasks completed!")

# Test functional programming with async
func process_item(item) {
    await(sleep_async(0.1))
    return item * 2
}

var items = [1, 2, 3, 4, 5]
var results = map(process_item, items)
print("Processed items: " + str(results))

print("âœ… Async/Await features working!")